<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />
    <link rel="stylesheet" href="indexContent.css">
</head>
<body>
<header class="first">
    <div id="home"><a href="index.html">HOME</a></div>
    <div id="back"><a href="#home">↑</a></div>
    <section>
        <a href="allNavigation.html"><header>NAVIGATION</header></a>
        <ul>
            <li><a href="#set" id="set">各种集合</a></li>
            <li><a href="#book" id="book">看书学习</a></li>
            <li><a href="#blog" id="blog">博客搭建</a></li>
        </ul>
        <div class="clear"></div>
    </section>
</header>
<section class="CONTENT">
    <section>
        <content class="right">
            <h1>探索Git(15)——远程仓库同步到本地仓库、pull和fetch区别</h1>
            <header class="content">
            </header>
            <article>
                <p>突然意识到每次回家都重新clone一次在学校完成的代码不太对头。。。就查到了这个命令</p>
                <h4>0.git pull</h4>
                <p>
                    git pull命令用于从另一个存储库或本地分支获取并集成(整合)。
                    git pull命令的作用是：取回远程主机某个分支的更新，再与本地的指定分支合并，它的完整格式稍稍有点复杂。
                </p>
                <h5>使用语法</h5>
                <p class="code">git pull [options] ["repository" ["refspec"…]]</p>
                <h5>描述</h5>
                <p>
                    将远程存储库中的更改合并到当前分支中。在默认模式下，git pull是git fetch后跟git merge FETCH_HEAD的缩写。
                </p>
                <p>
                    更准确地说，git pull使用给定的参数运行git fetch，并调用git merge将检索到的分支头合并到当前分支中。
                    使用--rebase，它运行git rebase而不是git merge。
                </p>
                <p class="strong"><a href="fiftySeventh.html">下一篇说rebase</a></p>
                <h5>示例</h5>
                <p class="code">$ git pull <远程主机名> <远程分支名>:<本地分支名></p>
                <p>比如，要取回origin主机的next分支，与本地的master分支合并，需要写成下面这样</p>
                <p class="code">$ git pull origin next:master</p>
                <p>如果远程分支(next)要与当前分支合并，则冒号后面的部分可以省略。上面命令可以简写为：</p>
                <p class="code">$ git pull origin next</p>
                <p>上面命令表示，取回origin/next分支，再与当前分支合并。实质上，这等同于先做git fetch，再执行git merge。</p>
                <h4>1.git fetch</h4>
                <p class="code">
                    $ git fetch origin<br>
                    $ git merge origin/next
                </p><br>
                <p>在某些场合，Git会自动在本地分支与远程分支之间，建立一种追踪关系(tracking)。
                    比如，在git clone的时候，所有本地分支默认与远程主机的同名分支，建立追踪关系，也就是说，本地的master分支自动”追踪”origin/master分支。
                </p>
                <h5>Git也允许手动建立追踪关系。</h5>
                <p class="code">$ git branch --set-upstream master origin/next</p>
                <p>上面命令指定master分支追踪origin/next分支。</p>
                <p> 如果当前分支与远程分支存在追踪关系，git pull就可以省略远程分支名。</p>
                <p class="code">$ git pull origin</p>
                <p>上面命令表示，本地的当前分支自动与对应的origin主机”追踪分支”(remote-tracking branch)进行合并。</p>
                <p>如果当前分支只有一个追踪分支，连远程主机名都可以省略。</p>
                <p class="code">$ git pull</p>
                <p>上面命令表示，当前分支自动与唯一一个追踪分支进行合并。</p>
                <h5>如果合并需要采用rebase模式，可以使用–rebase选项。</h5>
                <p class="code">$ git pull --rebase <远程主机名> <远程分支名>:<本地分支名></p>
                <p>2.git fetch和git pull的区别</p>
                <h5>git fetch：相当于是从远程获取最新版本到本地，不会自动合并。</h5>
                <p class="code">
                    $ git fetch origin master<br>
                    $ git log -p master..origin/master<br>
                    $ git merge origin/master
                </p><br>
                <ul>以上命令的含义：
                    <li>首先从远程的origin的master主分支下载最新的版本到origin/master分支上</li>
                    <li>然后比较本地的master分支和origin/master分支的差别</li>
                    <li>最后进行合并</li>
                </ul>
                <ul>上述过程其实可以用以下更清晰的方式来进行：
                    <li>$ git fetch origin master:tmp</li>
                    <li>$ git diff tmp</li>
                    <li>$ git merge tmp</li>
                </ul>
                <h5>git pull：相当于是从远程获取最新版本并merge到本地</h5>
                <p class="code">git pull origin master</p>
                <p>上述命令其实相当于git fetch 和 git merge</p>
                <p class="strong">在实际使用中，git fetch更安全一些，因为在merge前，我们可以查看更新情况，然后再决定是否合并。</p>
            </article>
        </content>
    </section>
    <aside class="left">
        <h2>其他文章推荐</h2>
        <nav>
        </nav>
    </aside>
    <div></div>
</section>
<section class="cut">
</section>
<script src="jquery-3.2product.js"></script>
<script src="a.js"></script>
<script src="content.js"></script>
</body>